<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>

<main>
  <header>
    <style>
        .user_bg {
            background-image: url('<%= profile[0].background %>');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover
        }
    </style>
  </header>
  <body class="user_bg">

    <div class="container" style="padding:10px;">
        <div class="card" style="width: 50%;">
            <img src="<%= profile[0].imghere ? 'data:image/png;base64,' + profile[0].imghere : '../../resources/pfp/Default_Avatar.jpg' %>" alt="../../resources/pfp/Default_Avatar.jpg" style="width:45%; align-self: center;" class="w3-circle"></img>
            <h1 style="color:black; padding: 2px;"> <%= profile[0].username %> </h1>
            <br>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="basic-info" data-bs-toggle="tab" data-bs-target="#basic-tab-pane" type="button" role="tab" aria-controls="basic-tab-pane" aria-selected="true">Basic Info</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Profile</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">Contact</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id=" bio-tab" data-bs-toggle="tab" data-bs-target="#bio-tab-pane" type="button" role="tab" aria-controls="bio-tab-pane" aria-selected="false">Bio</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="preferences" data-bs-toggle="tab" data-bs-target="#preferences-tab-pane" type="button" role="tab" aria-controls="preferences-tab-pane" aria-selected="false">Preferences</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="hobbies" data-bs-toggle="tab" data-bs-target="#hobbies-tab-pane" type="button" role="tab" aria-controls="hobbies-tab-pane" aria-selected="false">Hobbies</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="background" data-bs-toggle="tab" data-bs-target="#background-tab-pane" type="button" role="tab" aria-controls="background-tab-pane" aria-selected="false">Background</button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <!-- BASIC INFO SELECTION -->
                <div class="tab-pane fade show active" id="basic-tab-pane" role="tabpanel" aria-labelledby="basic-info" tabindex="0">

                    <div class="card mb-3">
                        <table class="table">
                            <thead>
                            </thead>
                            
                            <tbody>
                                <form action="/update_profile/basic" method="POST">  
            
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Display Name </h5>
                                            <input class="w3-input w3-border" type="text" name="name" required></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Class </h5>
                                            <select class="form-select" id="class" name="class">
                                                <option selected>Choose...</option>
                                                <option value="Freshman">Freshman</option>
                                                <option value="Sophomore">Sophomore</option>
                                                <option value="Junior">Junior</option>
                                                <option value="Senior">Senior</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Major </h5>
                                            <input class="w3-input w3-border" type="text" placeholder="If Business, include emphasis" name="major" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Committee </h5>
                                            <input class="w3-input w3-border" type="text" placeholder="Once assigned, state committee. Otherwise list 'N/A'" name="committee" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">

                    <div class="card mb-3">
                        <table class="table">
                            <tbody>
                                <form enctype="multipart/form-data" action="/update_profile/picture" method="POST">  
            
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Profile Picture </h5>
                                            <input class="w3-input w3-border" type="file" name="profile_img" id="profile_img" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                        <p>File must be still (.JPG), live photos (.HEIC) will not upload. </p>
                    </div>

                </div>
                <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
                    
                    <div class="card mb-3">
                        <table class="table">
                            <tbody>
                                <form action="/update_profile/contact" method="POST">  
            
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Email </h5>
                                            <input class="w3-input w3-border" type="text" name="email" placeholder="abcd5678@colorado.edu" required></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> LinkedIn </h5>
                                            <input class="w3-input w3-border" type="text" name="linkedin" placeholder="https://www.linkedin.com/in/FIRST-LAST/" required></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Spotify </h5>
                                            <input class="w3-input w3-border" type="text" name="spotify" placeholder="https://open.spotify.com/user/USERNAME" required></input>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Phone Number </h5>
                                            <input class="w3-input w3-border" type="text" placeholder="512-636-2466" name="phone" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="tab-pane fade" id="bio-tab-pane" role="tabpanel" aria-labelledby="bio-tab" tabindex="0">

                    <div class="card mb-3">
                        <table class="table">
                            
                            <tbody>
                                <form action="/update_profile/bio" method="POST">  
            
                                    <tr>
                                        <td>
                                            <textarea class="form-control input-lg" height="20px" type="text" placeholder="Write a short statement about yourself" name="bio" required></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                    </div>


                </div>
                <div class="tab-pane fade" id="hobbies-tab-pane" role="tabpanel" aria-labelledby="hobbies-tab" tabindex="0">

                    <br>

                    <div class="card mb-3">
                        <table class="table">
                            <tbody>
                                <form enctype="multipart/form-data" action="/update_profile/hobby1" method="POST">  
            
                                    <tr>
                                        <td style="width:10%">
                                            <h5 style="color:black; text-align: left;"> Activity 1 </h5>
                                            <input class="w3-input w3-border" type="text" name="hobby1" required></input>
                                        </td>
                                        <td>
                                            <img src="<%= profile[0].h1_img ? 'data:image/png;base64,' + profile[0].h1_img : '../../resources/pfp/Default_Avatar.jpg' %>" alt="../../resources/pfp/Default_Avatar.jpg" class="w3-circle" style="width:30%; height:10%; align-self: center;"></img>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:60%">
                                            <h5 style="color:black; text-align: left;"> Caption </h5>
                                            <textarea class="form-control input-lg" height="20px" type="text" placeholder="Write a short statement describing the memory" name="h1_caption" required></textarea>
                                        </td>
                                        <td style="width:50%">
                                            <h5 style="color:black; text-align: left;"> Picture </h5>
                                            <input class="w3-input w3-border" type="file" name="h1_img" id="h1_img" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                    </div>

                    <br>

                    <div class="card mb-3">
                        <table class="table">
                            <tbody>
                                <form enctype="multipart/form-data" action="/update_profile/hobby2" method="POST">  
            
                                    <tr>
                                        <td style="width:10%">
                                            <h5 style="color:black; text-align: left;"> Activity 2 </h5>
                                            <input class="w3-input w3-border" type="text" name="hobby2" required></input>
                                        </td>
                                        <td>
                                            <img src="<%= profile[0].h2_img ? 'data:image/png;base64,' + profile[0].h2_img : '../../resources/pfp/Default_Avatar.jpg' %>" alt="../../resources/pfp/Default_Avatar.jpg" class="w3-circle" style="width:30%; height:10%; align-self: center;"></img>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:60%">
                                            <h5 style="color:black; text-align: left;"> Caption </h5>
                                            <textarea class="form-control input-lg" height="20px" type="text" placeholder="Write a short statement describing the memory" name="h1_caption" required></textarea>
                                        </td>
                                        <td style="width:50%">
                                            <h5 style="color:black; text-align: left;"> Picture </h5>
                                            <input class="w3-input w3-border" type="file" name="h2_img" id="h2_img" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                    </div>

                </div>
                <div class="tab-pane fade" id="background-tab-pane" role="tabpanel" aria-labelledby="background-tab" tabindex="0">

                    <div class="card mb-3">
                        <table class="table">
                            <tbody>
                                <form action="/update_profile/background" method="POST">  
            
                                    <tr>
                                        <td>
                                            <h5 style="color:black; text-align: left;"> Update Background </h5>
                                            <select class="form-select" id="background" name="background">
                                                <option selected>Choose...</option>
                                                <option value="../../resources/img/Maroon_Bells.jpg">Maroon Bells</option>
                                                <option value="../../resources/img/Mountains_4k.jpg">Fall Mountains</option>
                                                <option value="../../resources/img/Mountains_Fall.jpg">Autumn Mountains</option>
                                                <option value="../../resources/img/Snowboard_Mountain.jpg">Snowy Mountain View</option>
                                                <option value="../../resources/img/Night_Bridge_City.jpg">City Scape Night</option>
                                                <option value="../../resources/img/Yellowstone_Vibes.jpg">Beautiful Countryside</option>
                                                <option value="../../resources/img/Inspiring_Sunset.jpeg">Inspiring Sunset</option>
                                                <option value="../../resources/img/River_Bridge.jpg">River Bridge</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><button action="submit" class="btn default" style="background-color: rgb(4, 125, 153); color: white">Submit</button></td>
                                    </tr>
            
                                </form>
                            </tbody>
                        </table>
                        <p>File must be still (.JPG), live photos (.HEIC) will not upload. </p>
                    </div>

                </div>
            </div>
        </div>
    </div>

  </body>
</main>



<%- include ('../partials/footer') %>



<!-- <div class="container" style="padding:10px;">

    <div class="row">

        <div class="col">
            <div class="card mb-3" style="max-width: 540px;">
                <div class="row g-0">
                    <div class="col-md-4">
                        <img src="data:image/png;base64,<%= imgHERE ? imgHERE : '../../resources/pfp/Default_Avatar.jpg' %>" class="img-fluid rounded-start" alt="...">
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title"><%= username %></h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">Class: <%= profile.class %></li>
                                <li class="list-group-item">Major: <%= profile.major %></li>
                                <li class="list-group-item">Committee: <%= profile.committee %></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col" style="width: 5px;">

            <div class="row">
                <div class="card mb-3" style="width: 10rem;">
                    <div class="card-header">Total Points</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><%= profile.points %></li>
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="card mb-3" style="width: 10rem;">
                    <div class="card-header">Brother Interviews</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><%= profile.brother_interviews %></li>
                    </ul>
                </div>
            </div>


        </div>

    </div>

</div> -->

/