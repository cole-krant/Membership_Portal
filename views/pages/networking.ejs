<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>

<main>
  <header>
    <style>
      .flatirons_bg {
        background-image: url('../../resources/img/Flatiron_Background.jpg');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover
      }
    </style>
  </header>
    <body class="flatirons_bg">
    <!-- MyNetworking-->
      <div class="w3-container w3-padding-64 w3-center">
        <h1>My Weekly Networking Groups</h1>
        <h3>Alpha Kappa Psi</h3>
        <%
          var count_col = 0;      // variable to limit 4 cards per row
          var start = 0;          // variable to limit 4 cards per row
          var count_cmp = 4;      // variable to track how many cards have been input per row
          var index = 0;          // variable to track net_groups array
          var pseudo = '';        // variable to code html
          var image = "";
          pseudo = pseudo + '<div class="w3-row">';     // begin the row row
    
          net_groups.forEach(net_groups => {
            // if(net_groups.username != 'Cole Krant' && net_groups.username != 'Katie McDonald' && net_groups.username != 'Emma Kochenderfer' && net_groups.username != 'Nathan Brown' && net_groups.username != 'Harrison Klein') {
              if(count_col === start) {

                count_col = count_col + 1;
                image = "data:image/png;base64," + net_groups.proof;
                pseudo = pseudo + '<div class="w3-quarter">';                     // create a card
                pseudo = pseudo + '<img src="' + image +'" style="width:45%" class="w3-circle w3-hover-opacity" alt="Profile Picture">';
                pseudo = pseudo + '<h1>' + net_groups.username + '</h1>';
                pseudo = pseudo + '<p class="title">' + net_groups.group_name + '</p>';
                pseudo = pseudo + '</div>';

                index++;

              }
              else if(count_col < count_cmp) {

                count_col = count_col + 1;                                        // incriment count
                image = "data:image/png;base64," + net_groups.proof;
                pseudo = pseudo + '<div class="w3-quarter">';                     // same row, input card
                pseudo = pseudo + '<img src="' + image +'" style="width:45%" class="w3-circle w3-hover-opacity" alt="Profile Picture">';
                pseudo = pseudo + '<h1>' + net_groups.username + '</h1>';
                pseudo = pseudo + '<p class="title">' + net_groups.group_name + '</p>';
                pseudo = pseudo + '</div>';

                index++;

              }
              else if(count_col === count_cmp) {

                image = "data:image/png;base64," + net_groups.proof;
                pseudo = pseudo + '</div>';                                       // close the card
                pseudo = pseudo + '<div class="w3-row">';                         // begin the row row
                pseudo = pseudo + '<div class="w3-quarter">';                     // create a card
                pseudo = pseudo + '<img src="' + image +'" style="width:45%" class="w3-circle w3-hover-opacity" alt="Profile Picture">';
                pseudo = pseudo + '<h1>' + net_groups.username + '</h1>';
                pseudo = pseudo + '<p class="title">' + net_groups.group_name + '</p>';
                pseudo = pseudo + '</div>';
                start = count_col;                  // indicate new row
                count_cmp = count_cmp + 4;          // set new ceiling

              }
            }
          //}
          ) 
        %>
        <%- pseudo %>
      </div>
    </div>
  </body>
</main>

<%- include ('../partials/footer') %>